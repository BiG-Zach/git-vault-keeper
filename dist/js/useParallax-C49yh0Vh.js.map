{"version":3,"file":"useParallax-C49yh0Vh.js","sources":["../../src/lib/useParallax.ts"],"sourcesContent":["import * as React from \"react\";\r\n\r\n/**\r\n * useParallax â€” tiny, motion-safe parallax hook.\r\n * Attach `ref` to the container; apply translate3d to the moving layer.\r\n */\r\nexport function useParallax(strength = 0.18, max = 40) {\r\n  const ref = React.useRef<HTMLDivElement | null>(null);\r\n  const [y, setY] = React.useState(0);\r\n\r\n  React.useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    let raf = 0;\r\n\r\n    const onScroll = () => {\r\n      if (!ref.current) return;\r\n      const rect = ref.current.getBoundingClientRect();\r\n      const centerOffset = rect.top + rect.height / 2 - window.innerHeight / 2;\r\n      const value = Math.max(-max, Math.min(max, -centerOffset * strength * 0.1));\r\n      raf = requestAnimationFrame(() => setY(value));\r\n    };\r\n\r\n    onScroll();\r\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\r\n    window.addEventListener(\"resize\", onScroll);\r\n    return () => {\r\n      cancelAnimationFrame(raf);\r\n      window.removeEventListener(\"scroll\", onScroll);\r\n      window.removeEventListener(\"resize\", onScroll);\r\n    };\r\n  }, [strength, max]);\r\n\r\n  return { ref, y };\r\n}"],"names":["useParallax","strength","max","ref","React.useRef","y","setY","React.useState","React.useEffect","raf","onScroll","rect","centerOffset","value"],"mappings":"0CAMO,SAASA,EAAYC,EAAW,IAAMC,EAAM,GAAI,CACrD,MAAMC,EAAMC,EAAAA,OAAoC,IAAI,EAC9C,CAACC,EAAGC,CAAI,EAAIC,EAAAA,SAAe,CAAC,EAElCC,OAAAA,EAAAA,UAAgB,IAAM,CACpB,GAAI,OAAO,OAAW,IAAa,OACnC,IAAIC,EAAM,EAEV,MAAMC,EAAW,IAAM,CACrB,GAAI,CAACP,EAAI,QAAS,OAClB,MAAMQ,EAAOR,EAAI,QAAQ,sBAAA,EACnBS,EAAeD,EAAK,IAAMA,EAAK,OAAS,EAAI,OAAO,YAAc,EACjEE,EAAQ,KAAK,IAAI,CAACX,EAAK,KAAK,IAAIA,EAAK,CAACU,EAAeX,EAAW,EAAG,CAAC,EAC1EQ,EAAM,sBAAsB,IAAMH,EAAKO,CAAK,CAAC,CAC/C,EAEA,OAAAH,EAAA,EACA,OAAO,iBAAiB,SAAUA,EAAU,CAAE,QAAS,GAAM,EAC7D,OAAO,iBAAiB,SAAUA,CAAQ,EACnC,IAAM,CACX,qBAAqBD,CAAG,EACxB,OAAO,oBAAoB,SAAUC,CAAQ,EAC7C,OAAO,oBAAoB,SAAUA,CAAQ,CAC/C,CACF,EAAG,CAACT,EAAUC,CAAG,CAAC,EAEX,CAAE,IAAAC,EAAK,EAAAE,CAAA,CAChB"}