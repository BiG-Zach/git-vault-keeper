{"version":3,"file":"canonical-CAwR1wbq.js","sources":["../../src/seo/canonical.tsx"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nconst APEX = 'https://bradfordinformedguidance.com';\r\n\r\n/**\r\n * Canonical + Robots injector for critical routes.\r\n * Ensures at most one self-referencing canonical and a robots meta exist.\r\n * Never removes a canonical that was prerendered statically.\r\n */\r\nexport default function Canonical({ pathname }: { pathname: string }) {\r\n  useEffect(() => {\r\n    if (typeof document === 'undefined') return;\r\n    const head = document.head;\r\n\r\n    // If a canonical already exists (from static prerender), do nothing.\r\n    const existingCanonical = head.querySelector('link[rel=\"canonical\"]') as HTMLLinkElement | null;\r\n    if (!existingCanonical) {\r\n      const link = document.createElement('link');\r\n      link.setAttribute('rel', 'canonical');\r\n      const href = `${APEX}${pathname.startsWith('/') ? pathname : `/${pathname}`}`;\r\n      link.setAttribute('href', href);\r\n      head.appendChild(link);\r\n    }\r\n\r\n    // Ensure a robots meta exists with index,follow (don't override custom content)\r\n    let robots = head.querySelector('meta[name=\"robots\"]') as HTMLMetaElement | null;\r\n    if (!robots) {\r\n      robots = document.createElement('meta');\r\n      robots.setAttribute('name', 'robots');\r\n      robots.setAttribute('content', 'index,follow');\r\n      head.appendChild(robots);\r\n    }\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n"],"names":["APEX","Canonical","pathname","useEffect","head","link","href","robots"],"mappings":"+CAEA,MAAMA,EAAO,uCAOb,SAAwBC,EAAU,CAAE,SAAAC,GAAkC,CACpEC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI,OAAO,SAAa,IAAa,OACrC,MAAMC,EAAO,SAAS,KAItB,GAAI,CADsBA,EAAK,cAAc,uBAAuB,EAC5C,CACtB,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,aAAa,MAAO,WAAW,EACpC,MAAMC,EAAO,GAAGN,CAAI,GAAGE,EAAS,WAAW,GAAG,EAAIA,EAAW,IAAIA,CAAQ,EAAE,GAC3EG,EAAK,aAAa,OAAQC,CAAI,EAC9BF,EAAK,YAAYC,CAAI,CACvB,CAGA,IAAIE,EAASH,EAAK,cAAc,qBAAqB,EAChDG,IACHA,EAAS,SAAS,cAAc,MAAM,EACtCA,EAAO,aAAa,OAAQ,QAAQ,EACpCA,EAAO,aAAa,UAAW,cAAc,EAC7CH,EAAK,YAAYG,CAAM,EAE3B,EAAG,CAACL,CAAQ,CAAC,EAEN,IACT"}