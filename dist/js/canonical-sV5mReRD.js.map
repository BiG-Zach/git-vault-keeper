{"version":3,"file":"canonical-sV5mReRD.js","sources":["../../src/seo/canonical.tsx"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nconst APEX = 'https://bradfordinformedguidance.com';\r\n\r\n/**\r\n * Canonical + Robots injector for critical routes.\r\n * Ensures exactly one self-referencing canonical and an index,follow robots tag\r\n * appears in the head early so prerendered HTML includes them.\r\n */\r\nexport default function Canonical({ pathname }: { pathname: string }) {\r\n  useEffect(() => {\r\n    if (typeof document === 'undefined') return;\r\n    const head = document.head;\r\n\r\n    // Remove any existing canonical links to prevent duplicates\r\n    const existingCanonicals = head.querySelectorAll('link[rel=\"canonical\"]');\r\n    existingCanonicals.forEach((el) => el.parentElement?.removeChild(el));\r\n\r\n    // Insert one canonical for this pathname\r\n    const link = document.createElement('link');\r\n    link.setAttribute('rel', 'canonical');\r\n    link.setAttribute('href', `${APEX}${pathname.startsWith('/') ? pathname : `/${pathname}`}`);\r\n    head.appendChild(link);\r\n\r\n    // Ensure a robots meta exists with index,follow\r\n    let robots = head.querySelector('meta[name=\"robots\"]') as HTMLMetaElement | null;\r\n    if (!robots) {\r\n      robots = document.createElement('meta');\r\n      robots.setAttribute('name', 'robots');\r\n      head.appendChild(robots);\r\n    }\r\n    robots.setAttribute('content', 'index,follow');\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n"],"names":["APEX","Canonical","pathname","useEffect","head","el","link","robots"],"mappings":"+CAEA,MAAMA,EAAO,uCAOb,SAAwBC,EAAU,CAAE,SAAAC,GAAkC,CACpEC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI,OAAO,SAAa,IAAa,OACrC,MAAMC,EAAO,SAAS,KAGKA,EAAK,iBAAiB,uBAAuB,EACrD,QAASC,GAAOA,EAAG,eAAe,YAAYA,CAAE,CAAC,EAGpE,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,aAAa,MAAO,WAAW,EACpCA,EAAK,aAAa,OAAQ,GAAGN,CAAI,GAAGE,EAAS,WAAW,GAAG,EAAIA,EAAW,IAAIA,CAAQ,EAAE,EAAE,EAC1FE,EAAK,YAAYE,CAAI,EAGrB,IAAIC,EAASH,EAAK,cAAc,qBAAqB,EAChDG,IACHA,EAAS,SAAS,cAAc,MAAM,EACtCA,EAAO,aAAa,OAAQ,QAAQ,EACpCH,EAAK,YAAYG,CAAM,GAEzBA,EAAO,aAAa,UAAW,cAAc,CAC/C,EAAG,CAACL,CAAQ,CAAC,EAEN,IACT"}