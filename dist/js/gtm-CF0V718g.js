const _=e=>{typeof window<"u"&&window.gtag&&window.gtag("event",e.event,{event_category:e.event_category,event_action:e.event_action,event_label:e.event_label,value:e.value,custom_parameter_1:e.insurance_type,custom_parameter_2:e.state_served,custom_parameter_3:e.quote_value,page_location:window.location.href,page_title:document.title}),typeof window<"u"&&window.dataLayer&&window.dataLayer.push({...e,timestamp:new Date().toISOString(),page_url:window.location.href})},s=e=>{typeof window<"u"&&window.gtag&&window.gtag("event",e.event,e.ecommerce)},o=(e,n,t)=>{_({event:"conversion",event_category:"insurance_conversion",event_action:"lead_generated",event_label:`${e}_${t}`,value:n,insurance_type:e,state_served:t,conversion_value:n}),s({event:"purchase",ecommerce:{transaction_id:`lead_${Date.now()}`,value:n,currency:"USD",items:[{item_id:`${e}_lead`,item_name:`${e} Insurance Lead`,item_category:"Insurance Leads",item_brand:"Bradford Informed Guidance",price:n,quantity:1}]}})},v=(e,n)=>{_({event:"seo_optimization",event_category:"seo_performance",event_action:e,event_label:JSON.stringify(n),...n})},l=(e,n,t)=>{_({event:"web_vitals",event_category:"performance",event_action:e,event_label:t,value:Math.round(n),page_type:document.title.includes("Insurance")?"insurance_page":"general"})},r={HERO_SCHEDULE_CLICK:{event:"cta_click",event_category:"engagement",event_action:"click",event_label:"hero_schedule_consultation",user_journey_stage:"awareness"},HERO_SEE_OPTIONS_CLICK:{event:"cta_click",event_category:"engagement",event_action:"click",event_label:"hero_see_options",user_journey_stage:"consideration"},QUOTE_STARTED:{event:"quote_started",event_category:"conversion_funnel",event_action:"begin_checkout",event_label:"insurance_quote_initiated",user_journey_stage:"intent"},QUOTE_COMPLETED:{event:"quote_completed",event_category:"conversion_funnel",event_action:"purchase",event_label:"insurance_quote_submitted",user_journey_stage:"conversion"},QUOTE_ABANDONED:{event:"quote_abandoned",event_category:"conversion_funnel",event_action:"abandon_checkout",event_label:"quote_form_abandoned",user_journey_stage:"consideration"},LEAD_FORM_SUBMIT:{event:"lead_generated",event_category:"conversion",event_action:"form_submit",event_label:"contact_form_lead",user_journey_stage:"conversion"},PHONE_CONSULTATION_REQUEST:{event:"consultation_request",event_category:"conversion",event_action:"phone_request",event_label:"phone_consultation_scheduled",user_journey_stage:"conversion"},STATE_PAGE_VIEW:{event:"state_page_view",event_category:"engagement",event_action:"page_view",event_label:"state_specific_page",user_journey_stage:"consideration"},STATE_QUOTE_REQUEST:{event:"state_quote_request",event_category:"conversion_funnel",event_action:"quote_request",event_label:"state_specific_quote",user_journey_stage:"intent"},HEALTH_INSURANCE_INTEREST:{event:"insurance_type_interest",event_category:"product_interest",event_action:"health_insurance_view",event_label:"health_insurance_page",insurance_type:"health_insurance",user_journey_stage:"consideration"},LIFE_INSURANCE_INTEREST:{event:"insurance_type_interest",event_category:"product_interest",event_action:"life_insurance_view",event_label:"life_insurance_page",insurance_type:"life_insurance",user_journey_stage:"consideration"},IUL_INSURANCE_INTEREST:{event:"insurance_type_interest",event_category:"product_interest",event_action:"iul_insurance_view",event_label:"iul_insurance_page",insurance_type:"iul_insurance",user_journey_stage:"consideration"},CARRIER_COMPARISON_VIEW:{event:"carrier_comparison",event_category:"product_research",event_action:"carriers_page_view",event_label:"insurance_carriers_comparison",user_journey_stage:"consideration"},CARRIER_DETAILS_VIEW:{event:"carrier_details",event_category:"product_research",event_action:"carrier_detail_view",event_label:"specific_carrier_info",user_journey_stage:"evaluation"},HOW_IT_WORKS_CTA_CLICK:{event:"process_engagement",event_category:"engagement",event_action:"click",event_label:"how_it_works_start_step_1",user_journey_stage:"awareness"},PROCESS_STEP_COMPLETION:{event:"process_step_complete",event_category:"engagement",event_action:"step_completion",event_label:"process_step_understood",user_journey_stage:"consideration"},FAQ_CTA_CLICK:{event:"support_engagement",event_category:"engagement",event_action:"click",event_label:"faq_still_have_questions",user_journey_stage:"consideration"},FAQ_EXPANSION:{event:"faq_interaction",event_category:"engagement",event_action:"faq_expand",event_label:"faq_question_opened",user_journey_stage:"consideration"},STICKY_CALL_CLICK:{event:"urgent_action",event_category:"conversion",event_action:"phone_click",event_label:"sticky_call_now",user_journey_stage:"intent"},STICKY_QUOTE_CLICK:{event:"urgent_action",event_category:"conversion",event_action:"quote_click",event_label:"sticky_get_quote",user_journey_stage:"intent"},STATE_MAP_CLICK:{event:"map_interaction",event_category:"engagement",event_action:"click",event_label:"state_map_click",user_journey_stage:"exploration"},TESTIMONIALS_VIEW:{event:"social_proof",event_category:"engagement",event_action:"testimonials_view",event_label:"testimonials_carousel",user_journey_stage:"evaluation"},TESTIMONIAL_INTERACTION:{event:"social_proof_engagement",event_category:"engagement",event_action:"testimonial_click",event_label:"individual_testimonial",user_journey_stage:"evaluation"},BLOG_POST_VIEW:{event:"content_engagement",event_category:"content",event_action:"blog_view",event_label:"insurance_guide_read",user_journey_stage:"education"},GUIDE_DOWNLOAD:{event:"lead_magnet",event_category:"conversion",event_action:"download",event_label:"insurance_guide_download",user_journey_stage:"intent"},INTERNAL_SEARCH:{event:"site_search",event_category:"engagement",event_action:"search",event_label:"internal_site_search",user_journey_stage:"exploration"},NAVIGATION_CLICK:{event:"navigation",event_category:"engagement",event_action:"nav_click",event_label:"header_navigation",user_journey_stage:"exploration"},PAGE_LOAD_COMPLETE:{event:"page_performance",event_category:"technical",event_action:"page_loaded",event_label:"full_page_load",user_journey_stage:"technical"},FORM_VALIDATION_ERROR:{event:"form_error",event_category:"user_experience",event_action:"validation_error",event_label:"form_submission_failed",user_journey_stage:"friction"},EMAIL_SIGNUP:{event:"email_signup",event_category:"conversion",event_action:"newsletter_signup",event_label:"email_list_join",user_journey_stage:"nurturing"},EMAIL_CLICK:{event:"email_interaction",event_category:"engagement",event_action:"email_click",event_label:"email_address_click",user_journey_stage:"intent"}},u=()=>{typeof window>"u"||(window.BradfordTracking={trackQuote:(e,n,t)=>{_({...r.QUOTE_STARTED,insurance_type:e,state_served:n,quote_value:t})},trackLead:(e,n)=>{o(n,100,"general"),_({...r.LEAD_FORM_SUBMIT,lead_source:e,insurance_type:n})},trackConversion:(e,n)=>{o(e,n,"general")}})},g=e=>{_({event:"scroll_depth",event_category:"engagement",event_action:"scroll",event_label:`${e}%`,value:e})},d=(e,n,t)=>{_({event:"form_interaction",event_category:"form_engagement",event_action:n,event_label:`${e}_${t||"general"}`,page_type:e})},y=(e,n)=>{_({event:"exit_intent",event_category:"user_behavior",event_action:"exit_intent_detected",event_label:e,value:n})},i=(e,n,t)=>{_({event:"exception",event_category:"error_tracking",event_action:e,event_label:n,page_type:t||window.location.pathname})},m=()=>{if(typeof window>"u")return;u();let e=0;window.addEventListener("scroll",()=>{const t=Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100);t>e&&(e=t,[25,50,75,90].includes(t)&&g(t))});let n=Date.now();document.addEventListener("mouseleave",t=>{t.clientY<=0&&y(document.title,Date.now()-n)}),document.addEventListener("focus",t=>{const a=t.target;if(a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.tagName==="SELECT"){const c=a.closest("form")?.getAttribute("data-form-type")||"unknown";d(c,"field_focus",a.getAttribute("name")||void 0)}},!0),window.addEventListener("error",t=>{i("javascript_error",t.message,t.filename)}),window.addEventListener("unhandledrejection",t=>{i("promise_rejection",t.reason.toString())})};typeof window<"u"&&(window.BradfordGTM={trackEvent:_,trackInsuranceConversion:o,trackSEOEvent:v,trackWebVital:l,GTM_EVENTS:r,initializeComprehensiveTracking:m});export{r as G,_ as t};
